[gd_scene load_steps=9 format=2]

[ext_resource path="res://player/player.tscn" type="PackedScene" id=1]
[ext_resource path="res://obstacles/Toco.tscn" type="PackedScene" id=2]
[ext_resource path="res://map/Map.tscn" type="PackedScene" id=3]
[ext_resource path="res://obstacles/Preda.tscn" type="PackedScene" id=5]
[ext_resource path="res://obstacles/Gifa.tscn" type="PackedScene" id=6]
[ext_resource path="res://hp/hp.gd" type="Script" id=7]

[sub_resource type="ProceduralSky" id=2]
sky_top_color = Color( 0.27339, 0.0858, 0.39, 1 )
sky_horizon_color = Color( 0.0901961, 0.105882, 0.121569, 1 )
sky_curve = 0.36
sky_energy = 1.3
ground_bottom_color = Color( 0.0901961, 0.227451, 0.0509804, 1 )
ground_horizon_color = Color( 0.0901961, 0.105882, 0.121569, 1 )
ground_curve = 0.298571
ground_energy = 1.3

[sub_resource type="Environment" id=1]
background_mode = 2
background_sky = SubResource( 2 )
background_sky_orientation = Basis( 1, 0, 0, 0, 0.996195, 0.0871557, 0, -0.0871557, 0.996195 )
background_color = Color( 0.141176, 0.141176, 0.141176, 1 )
dof_blur_far_distance = 29.95
dof_blur_far_transition = 0.08
glow_intensity = 3.69

[node name="Game" type="Spatial"]

[node name="Player" parent="." instance=ExtResource( 1 )]

[node name="Camera" type="Camera" parent="."]
transform = Transform( 1, 0, 0, 0, 0.906308, 0.422618, 0, -0.422618, 0.906308, 1.871, 3.493, 2.888 )
environment = SubResource( 1 )
fov = 60.0
size = 2.0
__meta__ = {
"_editor_description_": "



"
}

[node name="Map" parent="." instance=ExtResource( 3 )]

[node name="Obstacles" type="Spatial" parent="."]

[node name="Gifa0" parent="Obstacles" instance=ExtResource( 6 )]
transform = Transform( 1.6, 0, 0, 0, 1.6, 0, 0, 0, 1, 1, 0, -9.5754 )

[node name="Gifa1" parent="Obstacles" instance=ExtResource( 6 )]
transform = Transform( 1.6, 0, 0, 0, 1.6, 0, 0, 0, 1, 1, 0, -12.5754 )

[node name="Gifa2" parent="Obstacles" instance=ExtResource( 6 )]
transform = Transform( 1.6, 0, 0, 0, 1.6, 0, 0, 0, 1, 3, 0, -31.929 )

[node name="Gifa3" parent="Obstacles" instance=ExtResource( 6 )]
transform = Transform( 1.6, 0, 0, 0, 1.6, 0, 0, 0, 1, 2, 0, -24.3849 )

[node name="Gifa4" parent="Obstacles" instance=ExtResource( 6 )]
transform = Transform( 1.6, 0, 0, 0, 1.6, 0, 0, 0, 1, 3, 0, -20.8597 )

[node name="Gifa5" parent="Obstacles" instance=ExtResource( 6 )]
transform = Transform( 1.6, 0, 0, 0, 1.6, 0, 0, 0, 1, 2, 0, -14.8327 )

[node name="Gifa7" parent="Obstacles" instance=ExtResource( 6 )]
transform = Transform( 1.6, 0, 0, 0, 1.6, 0, 0, 0, 1, 1, 0, -18.6689 )

[node name="Gifa8" parent="Obstacles" instance=ExtResource( 6 )]
transform = Transform( 1.6, 0, 0, 0, 1.6, 0, 0, 0, 1, 1, 0, -21.794 )

[node name="Gifa9" parent="Obstacles" instance=ExtResource( 6 )]
transform = Transform( 1.6, 0, 0, 0, 1.6, 0, 0, 0, 1, 1, 0, -25.9991 )

[node name="Preda0" parent="Obstacles" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, -29.75 )

[node name="Preda1" parent="Obstacles" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 3, 0, -18.551 )

[node name="Preda2" parent="Obstacles" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 0, -46.6999 )

[node name="Preda3" parent="Obstacles" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 0, -59.9455 )

[node name="Toco0" parent="Obstacles" instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 3, 0, -27.8246 )

[node name="Toco1" parent="Obstacles" instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 3, 0, -35.066 )

[node name="Toco2" parent="Obstacles" instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, -38.353 )

[node name="UI" type="Node2D" parent="."]

[node name="HP" type="Node2D" parent="UI"]
script = ExtResource( 7 )

[node name="HP Regen Timer" type="Timer" parent="UI/HP"]
one_shot = true

[node name="GameEndPanel" type="Node2D" parent="UI"]

[node name="Menu" type="Node2D" parent="UI"]

[connection signal="damage_taken" from="Player" to="UI/HP" method="_on_Player_damage_taken"]
[connection signal="on_any_collision" from="Obstacles/Gifa0" to="Player" method="_on_any_obstacle_z_collision"]
[connection signal="on_any_collision" from="Obstacles/Gifa1" to="Player" method="_on_any_obstacle_z_collision"]
[connection signal="on_any_collision" from="Obstacles/Gifa2" to="Player" method="_on_any_obstacle_z_collision"]
[connection signal="on_any_collision" from="Obstacles/Gifa3" to="Player" method="_on_any_obstacle_z_collision"]
[connection signal="on_any_collision" from="Obstacles/Gifa4" to="Player" method="_on_any_obstacle_z_collision"]
[connection signal="on_any_collision" from="Obstacles/Gifa5" to="Player" method="_on_any_obstacle_z_collision"]
[connection signal="on_any_collision" from="Obstacles/Gifa7" to="Player" method="_on_any_obstacle_z_collision"]
[connection signal="on_any_collision" from="Obstacles/Gifa8" to="Player" method="_on_any_obstacle_z_collision"]
[connection signal="on_any_collision" from="Obstacles/Gifa9" to="Player" method="_on_any_obstacle_z_collision"]
[connection signal="on_any_collision" from="Obstacles/Preda0" to="Player" method="_on_any_obstacle_z_collision"]
[connection signal="on_any_collision" from="Obstacles/Preda1" to="Player" method="_on_any_obstacle_z_collision"]
[connection signal="on_any_collision" from="Obstacles/Preda2" to="Player" method="_on_any_obstacle_z_collision"]
[connection signal="on_any_collision" from="Obstacles/Preda3" to="Player" method="_on_any_obstacle_z_collision"]
[connection signal="on_any_collision" from="Obstacles/Toco0" to="Player" method="_on_any_obstacle_z_collision"]
[connection signal="on_any_collision" from="Obstacles/Toco1" to="Player" method="_on_any_obstacle_z_collision"]
[connection signal="on_any_collision" from="Obstacles/Toco2" to="Player" method="_on_any_obstacle_z_collision"]
[connection signal="timeout" from="UI/HP/HP Regen Timer" to="UI/HP" method="_on_HP_Regen_Timer_timeout"]
